# Public.com API Configuration
# PUBLIC_SECRET_KEY is required. For headless/deploy (e.g. Render), set PUBLIC_ACCOUNT_NUMBER so the bot does not prompt for account selection.
PUBLIC_SECRET_KEY=your_api_secret_key_here
# PUBLIC_ACCOUNT_NUMBER=your_account_id_here

# Strategy Universe
THEME_UNDERLYINGS=UMC,TE,AMPX
MOONSHOT_SYMBOL=GME.WS

# Target Allocations (as percentages)
THEME_A_TARGET=0.35
THEME_B_TARGET=0.35
THEME_C_TARGET=0.15
MOONSHOT_TARGET=0.20
MOONSHOT_MAX=0.30
CASH_MINIMUM=0.20

# Option Selection Rules
OPTION_DTE_MIN=60
OPTION_DTE_MAX=120
OPTION_DTE_FALLBACK_MIN=45
OPTION_DTE_FALLBACK_MAX=150
STRIKE_RANGE_MIN=1.00
STRIKE_RANGE_MAX=1.10
MAX_BID_ASK_SPREAD_PCT=0.12
MIN_OPEN_INTEREST=50
MIN_VOLUME=10
# Use max pain strike for automated option selection (prefer strike closest to max pain within range)
USE_MAX_PAIN_FOR_SELECTION=true

# Roll Rules
ROLL_TRIGGER_DTE=60
ROLL_TARGET_DTE=90
MAX_ROLL_DEBIT_PCT=0.35
MAX_ROLL_DEBIT_ABSOLUTE=100.0

# Profit/Loss Rules
TAKE_PROFIT_100_PCT=1.00
TAKE_PROFIT_200_PCT=2.00
TAKE_PROFIT_100_CLOSE_PCT=0.50
STOP_LOSS_DRAWDOWN_PCT=-0.40
STOP_LOSS_UNDERLYING_PCT=-0.05
CLOSE_IF_DTE_LT=30
CLOSE_IF_OTM_DTE_LT=30

# Execution
MAX_TRADES_PER_DAY=5
ORDER_PRICE_OFFSET_PCT=0.0
ORDER_POLL_TIMEOUT_SECONDS=300
ORDER_POLL_INTERVAL_SECONDS=5

# Signals
USE_SMA_FILTER=true
SMA_PERIOD=20
MANUAL_MODE_ONLY=false

# Rebalancing
REBALANCE_TIME_HOUR=9
REBALANCE_TIME_MINUTE=30
REBALANCE_TIMEZONE=America/New_York

# Trading Hours
TRADE_EXTENDED_HOURS=false

# Guardrails
KILL_SWITCH_DRAWDOWN_PCT=0.25
KILL_SWITCH_LOOKBACK_DAYS=30
KILL_SWITCH_COOLDOWN_DAYS=5
MAX_SINGLE_POSITION_PCT=0.30
MAX_CORRELATED_PCT=0.60

# Execution authority: read_only = no trades; managed = allow rebalance/roll/trim/manual (default)
EXECUTION_TIER=managed

# Database
DB_PATH=data/trading_bot.db

# Logging
LOG_LEVEL=INFO
LOG_FILE=logs/high_convexity_bot.log

# Dry Run Mode
DRY_RUN=false

# Telegram + AI (required for Telegram bot)
TELEGRAM_BOT_TOKEN=
OPENAI_API_KEY=
# Comma-separated Telegram user IDs allowed to execute trades / change config (empty = read-only for all)
ALLOWED_TELEGRAM_USER_IDS=
